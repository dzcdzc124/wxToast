!function(e){e.wxToast=function(){"use strict";return function(){var r=["success","warning","loading","none"];var e=["default","fade-out","zoom-out"];var s={title:"",icon:"success",image:"",duration:2e3,mask:false,effect:"default",success:null,fail:null,complete:null};function l(e,t){var a={};for(var o in e){a[o]=typeof t[o]!="undefined"?t[o]:e[o]}return a}function c(e,t){for(var a in t){if(t[a]===e){return a}}return-1}function n(e){var t=this;if(this instanceof NodeList){for(var a=0;a<this.length;a+=1){var o=t[a].style;o.webkitTransform=e;o.transform=e}}else if(this instanceof Node){this.style.webkitTransform=e;this.style.transform=e}return this}function i(e){var t=this;if(typeof e!=="string"){e=e+"ms"}if(this instanceof NodeList){for(var a=0;a<this.length;a+=1){var o=t[a].style;o.webkitTransitionDuration=e;o.transitionDuration=e}}else if(this instanceof Node){this.style.webkitTransitionDuration=e;this.style.transitionDuration=e}return this}function u(e){var t=document.createElement("div");var a=document.createElement("div");t.className="wxToast-default";a.className="wxToast-title";t.appendChild(a);t.transform=n;t.transition=i;if(e){var o=document.createElement("div");o.className="wxToast-mask";o.appendChild(t)}return{top:e?o:t,toast:t,title:a}}function d(e){var t=document.createElement("div");t.className="wxToast-default wxToast-loading";var a=document.createElement("div");a.className="wxToast-loader";var o=document.createElement("div");o.className="wxToast-title";t.appendChild(a);t.appendChild(o);var n=document.createElement("div");for(var i=0;i<12;i++){a.appendChild(n.cloneNode(true))}if(e){var r=document.createElement("div");r.className="wxToast-mask";r.appendChild(t)}return{top:e?r:t,loading:t,loader:a,title:o}}function f(e,t){var a=document.body||document.getElementsByTagName("body")[0];a.appendChild(t.top);e.success&&e.success();t.layer=t.toast||t.loading;setTimeout(function(e,t,a){return function(){switch(a.effect){case"fade-out":t.layer.style.opacity=0;t.layer.transition(300);break;case"zoom-out":t.layer.transform("scale(0.75)");t.layer.style.opacity=0;t.layer.transition(300);break;default:e.removeChild(t.top);a.complete&&a.complete();return}setTimeout(function(e,t,a){return function(){e.removeChild(t.top);a.complete&&a.complete()}}(e,t,a),300)}}(a,t,e),e.duration)}return{show:function(e){var t=document.querySelector(".wxToast-default");if(t){var a="已存在wxToast元素";console.warn(a);e.fail&&e.fail(a);return}e.icon===""&&(e.icon="none");e.icon&&(e.icon=e.icon.toLowerCase());if(e.icon&&c(e.icon,r)==-1){var a="参数icon:"+e.icon+"无效";e.icon&&console.warn(a);delete e.icon;e.fail&&e.fail(a);e.complete&&e.complete();return}var o=l(s,e);if(o.icon=="loading"){this.showLoading({title:o.title,mask:o.mask,success:o.success,fail:o.fail});setTimeout(function(e,t){return function(){e.hideLoading({effect:o.effect,complete:o.complete,fail:o.fail})}}(this,o),o.duration);return}var n=u(o.mask);if(o.image){var i=new Image;i.onload=function(o){return function(){o.toast.style.backgroundImage="url("+this.src+")";var e=this.width;var t=this.height;var a=Math.max(e,t);o.toast.style.backgroundSize=e*42/a+"px "+t*42/a+"px"}}(n);i.onerror=function(){console.warn("自定义图片加载出错:"+o.image)};i.src=o.image}else{n.toast.className+=" wxToast-"+o.icon}if(o.title){n.title.innerText=o.title}else{n.toast.className+=" wxToast-title-none"}f(o,n)},showLoading:function(e){var t=document.querySelector(".wxToast-default");if(t){var a="已存在wxToast元素";console.warn(a);e.fail&&e.fail(a);return}var o=l(s,e);delete o.icon;delete o.image;var n=d(o.mask);n.title.innerText=o.title;var i=document.body||document.getElementsByTagName("body")[0];i.appendChild(n.top);o.success&&o.success()},hideLoading:function(e){e||(e={});var t={};t.top=document.querySelector(".wxToast-mask")||document.querySelector(".wxToast-loading");t.layer=document.querySelector(".wxToast-loading");if(t.top&&t.layer){var a=document.body||document.getElementsByTagName("body")[0];switch(e.effect){case"fade-out":t.layer.transform=n;t.layer.transition=i;t.layer.style.opacity=0;t.layer.transition(300);break;case"zoom-out":t.layer.transform=n;t.layer.transition=i;t.layer.transform("scale(0.75)");t.layer.style.opacity=0;t.layer.transition(300);break;default:a.removeChild(t.top);e.complete&&e.complete();return}setTimeout(function(e,t,a){return function(){e.removeChild(t.top);a.complete&&a.complete()}}(a,t,e),300)}else{e.fail&&e.fail()}}}}()}()}(this);