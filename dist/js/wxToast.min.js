!function(e,t){e.wxToast=function(){"use strict";return function(){var v=["success","warning","loading","none"],p={title:"",icon:"success",image:"",duration:2e3,mask:!1,effect:"default",success:null,fail:null,complete:null};function y(e,t){var a={};for(var o in e)a[o]=void 0!==t[o]?t[o]:e[o];return a}function h(e){if(this instanceof NodeList)for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransform=e,a.transform=e}else this instanceof Node&&(this.style.webkitTransform=e,this.style.transform=e);return this}function w(e){if("string"!=typeof e&&(e+="ms"),this instanceof NodeList)for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransitionDuration=e,a.transitionDuration=e}else this instanceof Node&&(this.style.webkitTransitionDuration=e,this.style.transitionDuration=e);return this}return{show:function(e){var t=document.querySelector(".wxToast-default");if(t){var a="已存在wxToast元素";return console.warn(a),void(e.fail&&e.fail(a))}if(""===e.icon&&(e.icon="none"),e.icon&&(e.icon=e.icon.toLowerCase()),e.icon&&-1==function(e,t){for(var a in t)if(t[a]===e)return a;return-1}(e.icon,v)){var a="参数icon:"+e.icon+"无效";return e.icon&&console.warn(a),delete e.icon,e.fail&&e.fail(a),void(e.complete&&e.complete())}var o,i=y(p,e);if("loading"==i.icon)return this.showLoading({title:i.title,mask:i.mask,success:i.success,fail:i.fail}),void setTimeout((o=this,function(){o.hideLoading({effect:i.effect,complete:i.complete,fail:i.fail})}),i.duration);var n,s,r,l,c,d,u,m=function(e){var t=document.createElement("div"),a=document.createElement("div");if(t.className="wxToast-default",a.className="wxToast-title",t.appendChild(a),t.transform=h,t.transition=w,e){var o=document.createElement("div");o.className="wxToast-mask",o.appendChild(t)}return{top:e?o:t,toast:t,title:a}}(i.mask);if(i.image){var f=new Image;f.onload=(n=m,function(){n.toast.style.backgroundImage="url("+this.src+")";var e=this.width,t=this.height,a=Math.max(e,t);n.toast.style.backgroundSize=42*e/a+"px "+42*t/a+"px"}),f.onerror=function(){console.warn("自定义图片加载出错:"+i.image)},f.src=i.image}else m.toast.className+=" wxToast-"+i.icon;i.title?m.title.innerText=i.title:m.toast.className+=" wxToast-title-none",s=i,r=m,(l=document.body||document.getElementsByTagName("body")[0]).appendChild(r.top),s.success&&s.success(),r.layer=r.toast||r.loading,setTimeout((c=l,d=r,u=s,function(){switch(u.effect){case"fade-out":d.layer.style.opacity=0,d.layer.transition(300);break;case"zoom-out":d.layer.transform("scale(0.75)"),d.layer.style.opacity=0,d.layer.transition(300);break;default:return c.removeChild(d.top),void(u.complete&&u.complete())}var e,t,a;setTimeout((e=c,t=d,a=u,function(){e.removeChild(t.top),a.complete&&a.complete()}),300)}),s.duration)},showLoading:function(e){var t=document.querySelector(".wxToast-default");if(t){var a="已存在wxToast元素";return console.warn(a),void(e.fail&&e.fail(a))}var o=y(p,e);delete o.icon,delete o.image;var i=function(e){var t=document.createElement("div");t.className="wxToast-default wxToast-loading";var a=document.createElement("div");a.className="wxToast-loader";var o=document.createElement("div");o.className="wxToast-title",t.appendChild(a),t.appendChild(o);for(var i=document.createElement("div"),n=0;n<12;n++)a.appendChild(i.cloneNode(!0));if(e){var s=document.createElement("div");s.className="wxToast-mask",s.appendChild(toastDiv)}return{top:e?s:t,loading:t,loader:a,title:o}}(o.mask);i.title.innerText=o.title;var n=document.body||document.getElementsByTagName("body")[0];n.appendChild(i.top),o.success&&o.success()},hideLoading:function(e){e||(e={});var t,a,o,i={};if(i.top=document.querySelector(".wxToast-mask")||document.querySelector(".wxToast-loading"),i.layer=document.querySelector(".wxToast-loading"),i.top&&i.layer){var n=document.body||document.getElementsByTagName("body")[0];switch(e.effect){case"fade-out":i.layer.style.opacity=0,i.layer.transition(300);break;case"zoom-out":i.layer.transform=h,i.layer.transition=w,i.layer.transform("scale(0.75)"),i.layer.style.opacity=0,i.layer.transition(300);break;default:return n.removeChild(i.top),void(e.complete&&e.complete())}setTimeout((t=n,a=i,o=e,function(){t.removeChild(a.top),o.complete&&o.complete()}),300)}else e.fail&&e.fail()}}}()}()}(this);